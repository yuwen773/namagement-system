# 中文菜谱数据集分析

## 背景

项目需要 10,000-20,000 条菜谱数据。由于下厨房网站有严格的 429 速率限制，直接爬取效率低下，现调研可用的公开数据集。

---

## 可用数据集列表

### 1. 下厨房菜谱语料库 (XiaChuFang Recipe Corpus)

| 属性 | 详情 |
|:-----|:-----|
| **来源** | OpenDataLab |
| **数据量** | 1,520,000+ 条菜谱 |
| **格式** | JSON |
| **链接** | https://opendatalab.com/OpenDataLab/XiaChuFang_Recipe_Corpus/cli/main|
| **许可证** | CC BY-NC-SA 4.0 |
| **字段** | 菜名、食材、步骤、图片链接、评分等 |

### 2. 食谱菜谱大全数据库

| 属性 | 详情 |
|:-----|:-----|
| **来源** | GitCode / CSDN |
| **数据量** | 170,000 条菜谱 |
| **格式** | SQL / JSON |
| **链接** | https://gitcode.net/weiyainsile/cookbook_database |
| **许可证** | 未明确声明 |
| **字段** | 菜名、食材、做法、分类、难度等 |

### 3. 中餐食谱数据 (CnOpenData)

| 属性 | 详情 |
|:-----|:-----|
| **来源** | CnOpenData |
| **数据量** | 约 50,000 条 |
| **格式** | CSV / JSON |
| **链接** | https://www.cnopendata.com/ |
| **许可证** | 学术研究使用 |
| **字段** | 菜名、菜系、食材、烹饪方法 |

### 4. Kaggle 亚洲食谱数据集

| 属性 | 详情 |
|:-----|:-----|
| **来源** | Kaggle |
| **数据量** | 约 10,000-30,000 条 |
| **格式** | JSON / CSV |
| **链接** | https://www.kaggle.com/datasets |
| **许可证** | CC0 / 各种 |
| **字段** | 菜名、食材、步骤、风味标签 |

### 5. 美团研究数据集

| 属性 | 详情 |
|:-----|:-----|
| **来源** | 美团技术团队 |
| **数据量** | 未公开 |
| **格式** | 研究论文附带数据 |
| **链接** | https://meituan.github.io/ |
| **许可证** | 研究用途 |
| **备注** | 需联系获取 |

---

## 可行性分析

### 优先级排序

| 排名 | 数据集 | 推荐度 | 原因 |
|:----:|:------|:------:|:-----|
| 1 | 下厨房语料库 | ⭐⭐⭐⭐⭐ | 数据量大、结构完整、许可证清晰 |
| 2 | 食谱大全数据库 | ⭐⭐⭐⭐ | 数据量足够、SQL 格式方便导入 |
| 3 | Kaggle 数据集 | ⭐⭐⭐ | 国际平台、数据质量参差不齐 |
| 4 | CnOpenData | ⭐⭐ | 主要面向学术研究 |
| 5 | 美团数据集 | ⭐⭐ | 获取难度高 |

---

## 详细可行性分析

### 1️⃣ 下厨房菜谱语料库 (首选)

**优点:**
- ✅ 数据量充足（152万条）
- ✅ 来自 OpenDataLab 平台，数据质量有保障
- ✅ CC BY-NC-SA 4.0 许可证，商业使用需注意
- ✅ 数据结构完整：菜名、食材、步骤、图片等
- ✅ 原始数据来自下厨房，与项目目标一致

**缺点:**
- ⚠️ 非商业用途许可（本项目为学习/演示项目，符合要求）
- ⚠️ 可能需要数据格式转换

**操作步骤:**
1. 访问 OpenDataLab 注册账号
2. 申请下厨房数据集访问权限
3. 下载数据文件（可能需要同意使用协议）
4. 编写转换脚本，将数据映射到项目数据库结构
5. 导入 MySQL 数据库

**预计工作量:** 2-4 小时

---

### 2️⃣ 食谱菜谱大全数据库 (备选)

**优点:**
- ✅ 数据量足够（17万条）
- ✅ 提供 SQL 格式，可直接导入数据库
- ✅ GitCode 托管，获取方便
- ✅ 包含分类、难度等关键字段

**缺点:**
- ⚠️ 许可证不明确，可能有版权风险
- ⚠️ 数据质量未验证
- ⚠️ 来源可能是早期爬取，可能含有无效数据

**操作步骤:**
1. 从 GitCode 克隆仓库
2. 检查 SQL 文件结构和数据质量
3. 编写数据清洗脚本
4. 转换字段映射到项目数据库
5. 导入 MySQL

**预计工作量:** 3-5 小时

---

### 3️⃣ Kaggle 亚洲食谱数据集 (备选)

**优点:**
- ✅ 平台信誉好
- ✅ 数据格式标准
- ✅ 许可证明确

**缺点:**
- ⚠️ 主要是英文/亚洲食谱，中文菜谱可能较少
- ⚠️ 需要筛选中文菜谱
- ⚠️ 字段可能与项目需求不完全匹配

**操作步骤:**
1. 搜索 Chinese/Asian recipe 相关数据集
2. 下载并探索数据结构
3. 筛选中文菜谱
4. 字段映射和转换

**预计工作量:** 4-6 小时

---

## 数据字段映射需求

无论选择哪个数据集，都需要映射到以下数据库表结构：

```sql
-- 目标表结构参考
recipes (
    id, name, description, image_url,
    difficulty, cooking_time, servings,
    cuisine_type, scene_type, created_at
)

recipe_ingredients (recipe_id, ingredient_name, amount)

recipe_steps (recipe_id, step_number, instruction)

categories (id, name, parent_id)
```

---

## 建议方案

**推荐顺序:**

1. **首选:** 下厨房菜谱语料库
   - 数据量最大、质量最好
   - 许可证清晰（学习项目可使用）
   - 与项目目标最匹配

2. **备选:** 食谱菜谱大全数据库
   - 如果首选无法获取，使用此备选
   - SQL 格式方便导入
   - 注意许可证风险

3. **兜底:** 模拟数据生成器
   - `data-scripts/simulation/recipe_data_simulator.py`
   - 可快速生成任意数量数据
   - 适合开发和测试

---

## 下一步行动

- [ ] 访问 OpenDataLab，注册并申请下厨房数据集
- [ ] 如果成功获取，编写数据转换脚本
- [ ] 如果失败，尝试 GitCode 食谱数据库
- [ ] 准备数据导入脚本
- [ ] 验证数据质量，确保满足项目需求

---

*文档创建时间: 2026-01-30*
*最后更新: 2026-01-30*
